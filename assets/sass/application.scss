@import 'normalize';
@import 'fonts/bariol';
@import 'fonts/ss-social';

@import 'modular-scale';
@import 'compass';

$base-font-size: 24px;
$base-line-height: 40px;
$base-size: $base-font-size;

$mobile-font-size: $base-font-size;
$mobile-line-height: $base-line-height;
$mobile-size: $mobile-font-size;

@include establish-baseline;

@mixin phones {
  @media only screen and (max-width: 767px) {
    @content;
  }
}

@mixin load {
  @include transition(opacity 0.5s ease-in-out);

  -webkit-backface-visibility: hidden;
  opacity: 0;

  &.loaded {
    opacity: 1;
  }
}

* {
  @include box-sizing(border-box);
}

html {
  background-color: #666666;
  min-height: 100%;

  @include box-shadow(inset 0 0 ms(2) black);
}

body {
  -webkit-font-smoothing: antialiased;

  font-family: 'Bariol', sans-serif;
  font-size: ms(0);
  padding: ms(1);

  @include phones {
    font-size: ms(0, $mobile-font-size);
    padding: ms(0);
  }
}

#background {
  @include load;
  @include background-size(cover);

  -webkit-filter: blur(10px);
  background-attachment: fixed;
  background-position: center center;
  background-repeat: none;
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

article {
  @include box-shadow(0 0 3px white, 0 0 10px rgba(black, 0.1));

  background: rgba(white, 0.33);
  border-radius: ms(-3);
  padding: ms(0) ms(1);
  width: 61.8%;
  position: relative;

  @include phones {
    width: 100%;
    padding: ms(-2) ms(-1);
  }
}

header,
section,
footer {
  @include phones {
    margin: ms(0);
  }

  p, aside {
    padding: 0;
    width: 100%;

    a {
      color: white;
      text-decoration: none;

      &:hover,
      &:focus {
        @include text-shadow(0 0 5px white, 0 3px 5px rgba(white, 0.3), 3px 0 5px rgba(white, 0.3), 0 -3px 5px rgba(white, 0.3), -3px 0px 5px rgba(white, 0.3));
      }

      &:active {
        position: relative;
        top: 1px;
      }
    }
  }

  h1 {
    color: white;
    font-size: ms(1);
    font-weight: normal;
    margin: 0;
    padding: ms(-2) 0;

    @include phones {
      font-size: ms(1, $mobile-font-size);
      padding: ms(-2, $mobile-font-size) 0;
    }
  }
}

footer {
  p {
    a {
      @extend .ss-icon;

      margin-right: ms(-2);
    }
  }

  aside {
    @include load;

    bottom: ms(-3);
    font-size: ms(-1.5);
    position: absolute;
    right: ms(0);
    text-align: right;
  }
}
