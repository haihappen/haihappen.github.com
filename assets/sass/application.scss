@import 'normalize';
@import 'fonts/bariol';
@import 'fonts/ss-social';

@import 'modular-scale';
@import 'compass';

$color: #77CF21;
$textColor: #333;

$base-font-size: 24px;
$base-line-height: 40px;
$base-size: $base-font-size;

$mobile-font-size: $base-font-size;
$mobile-line-height: $base-line-height;
$mobile-size: $mobile-font-size;

@include establish-baseline;

@mixin phones {
  @media only screen and (max-width: 767px) {
    @content;
  }
}

@mixin retina-background-image($url, $retina_url: false) {
  background-image: url($url);

  @media only screen and (-webkit-min-device-pixel-ratio: 1.3),
         only screen and (min-device-pixel-ratio: 1.3),
         only screen and (min-resolution: 120dpi) {
    @if $retina_url == false {
      background-size: image-width($url) / 2 image-height($url) / 2;
    } @else {
      background-image: url($retina_url);
      background-size: image-width($url) image-height($url);
    }
  }
}

* {
  @include box-sizing(border-box);
}

html {
  @include retina-background-image('../images/light_wool.png', '../images/light_wool_@2X.png');

  background-size: 190px 191px;
  color: #333;
}

body {
  -webkit-font-smoothing: antialiased;

  font-family: 'Bariol', sans-serif;
  font-size: ms(0);
  padding: ms(1);

  @include phones {
    font-size: ms(0, $mobile-font-size);
    padding: ms(0);
  }
}

article {
  width: 61.8%;
  position: relative;

  @include phones {
    width: 100%;
  }
}

header,
section,
footer {
  @include phones {
    margin: ms(0);
  }

  p, aside {
    padding: 0;
    width: 100%;

    a {
      color: $textColor;
      text-decoration: none;

      &:hover,
      &:focus {
        @include transition(color 0.2 ease-in-out);
        color: $textColor;
        
        $width: 1px;
        $blur: 2px;
        
        @include text-shadow(
          0 0 $blur - 2 $color,
          0 $width $blur rgba($color, 1),
          $width 0 $blur rgba($color, 1),
          0 $width * -1 $blur rgba($color, 1),
          $width * -1 0 $blur rgba($color, 1));
      }

      &:active {
        position: relative;
        top: 1px;
      }
    }
  }

  h1 {
    color: $color;
    font-size: ms(1);
    font-weight: normal;
    margin: 0;
    padding: ms(-2) 0;

    @include phones {
      font-size: ms(1, $mobile-font-size);
      padding: ms(-2, $mobile-font-size) 0;
    }
  }
}

footer {
  p {
    a {
      @extend .ss-icon;

      margin-right: ms(-2);
    }
  }
}
